<table class="contactstable">
	<tr>
		<th>First Name</th>
		<th>Last Name</th>
		<th>Email</th>
	</tr>
	<tbody>
		<dom-repeat items="[[contacts]]">
			<template>
				<tr on-tap="_itemClicked">
					<td>[[item.firstName]]</td>
					<td>[[item.lastName]]</td>
					<td>[[item.email]]</td>
				</tr>
			</template>
		</dom-repeat>
	</tbody>
</table>
<script>
class ContactTable extends Polymer.Element {
	static get is() { return "contacts-table"; }
	
	_itemClicked(event) {
		var tr = event.target;
		
		var previouslySelected = document.getElementsByClassName('selected-row');
		var unselect = false;
		if (previouslySelected != undefined && previouslySelected.length == 1) {
			unselect = (previouslySelected[0].id == tr.id);
			previouslySelected[0].className = '';
		}
		if (unselect) {
			$server.onRowSelect(null);
		} else {
			tr.className = 'selected-row';
			$server.onRowSelect(tr.id);
		}
	}
}
customElements.define(ContactTable.is, ContactTable);
</script>